<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Simple Classification App</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.css">
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>

           <!--<link rel="shortcut icon" href="{{ url_for('static', filename='fav-icon/3mega-favicon-32x32.png') }}">-->
       
    </head>
    <body>
        <main>
            <div class="container mt-5">
                <div class="row">
                    <div class="col-12">
                        <!--div class="progress progress-bar progress-bar-striped progress-bar-animated mb-2">Loading Model...</div-->
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <input id="image-selector" class="form-control border-0" type="file" accept="image/*" />
                    </div>
                    <div class="col-6">
                        <button id="predict-button" class="btn btn-success float-right">Classify Image</button>
                    </div>
                </div>
                <hr />
                <div class="row">
                    <div class="col-12">
                        <!--div class="progress progress-bar progress-bar-striped progress-bar-animated mb-2">Loading Model...</div-->
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-8 col-md-70">
                        
                        <img id="selected-image" src="{{ url_for('static', filename='project-test-images/dust/test-image1.JPG') }}" height="400" width="600" />
                    </div>
                    <div class="col-md-4 col-md-30">
                        <div class="col">
                            <h2 class="ml-3">Predictions</h2>
                            <hr />
                            <ol id="prediction-list"></ol>
                            <div id="results-box">
                                <div id="top-prediction"></div>
                            </div>
                            <div>
                                <table id="results-datatable" class="table table-striped table-bordered" width="100%"></table>
                            </div>
                        </div>
                    </div>
                </div>

                <hr/>

                <div class="row">

                    <div class="col-6">

                  
                    </div>
                  
                    <div class="col-6">
                  
                        <form method="post" action="/" enctype="multipart/form-data">
                            <div class="input-group">
                                <input class="form-control form-control-lg" id="imgLoader" type="file" name="files[]" multiple="true" autocomplete="off" required>
                                <input type="submit" value="Submit" class="btn btn-primary">
                                <button type="button" class="btn btn-secondary btn-lg btn-block">Submit</button>
                            </div>
                        </form> 
                  
                  </div>
                    
                    <div class="col-6">
                  
                      <form method="post" action="/">
                        <input type="submit" name="crop_image_btn" value="crop_image" class="btn btn-primary">
                    </form>
                    <button id="x_btn" type="button" class="btn btn-success">Cropping Image - Fabric JS</button>
                  
                    </div>
                    
                  </div>
                  





            </div>
        </main>

        <div class="result"></div>



        <div>
            {% if data is defined %}

                <p> TYPE : {{ data.type }} </p>
                <p> PROJECT_ID : {{ data.project_id }} </p>
                <p> PRIVATE_KEY_ID : {{ data.private_key_id }} </p>
                <p> PRIVATE_KEY : {{ data.private_key }} </p>
                <p> CLIENT_EMAIL : {{ data.client_email }} </p>
                <p> CLIENT_ID : {{ data.client_id }} </p>   
                <p> AUTH_URI : {{ data.auth_uri }} </p>
                <p> TOKEN_URI : {{ data.token_uri }} </p>
                <p> X509_CERT_URL : {{ data.auth_provider_x509_cert_url }} </p>
                <p> CLIENT_X509_CERT_URL : {{ data.client_x509_cert_url }} </p>

            {% endif %}
        </div>

        <div>

            {% for model in models %}

                <p> the value is: {{ model }} </p>

            {% endfor %}

        </div>

        <div>

            <p> the value is: {{ db }} </p>

        </div>

        
        <div>

            {% for image in image_list %}

                <p> The image file is: {{ image }} </p>
                <img src="{{ image }}">

            {% endfor %}

        </div>


        <div>   
            <p> SESSION USER INFO </p>

            {% if session %}

             {{ session }}

            {% endif %}

        </div>

        <div>
            <p> USER_INFO </p>

            {% if user_info %}

             {{ user_info }}

              {% endif %}

        </div>

       

        <!-- Load TFLite Task Library -->
        <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/tasks@0.0.1-alpha.8"></script>
        <!-- Javascript - main engine -->
        <script src="{{ url_for('static', filename ='js/script-ai-platform-classify-images.js') }}"></script>
    </body>
</html>
